{"version":3,"sources":["../../../../src/build/webpack/plugins/next-trace-entrypoints-plugin.ts"],"names":["nodePath","spans","isError","nodeFileTrace","TRACE_OUTPUT_VERSION","webpack","sources","NODE_ESM_RESOLVE_OPTIONS","NODE_RESOLVE_OPTIONS","resolveExternal","loadBindings","isMatch","PLUGIN_NAME","TRACE_IGNORES","NOT_TRACEABLE","getModuleFromDependency","compilation","dep","moduleGraph","getModule","getFilesMapFromReasons","fileList","reasons","ignoreFn","parentFilesMap","Map","propagateToParents","parents","file","seen","Set","parent","has","add","parentFiles","get","set","parentReason","reason","isInitial","type","length","includes","size","TraceEntryPointsPlugin","constructor","appDir","appDirEnabled","traceIgnores","esmExternals","outputFileTracingRoot","turbotrace","turbotraceContext","chunksToTrace","entryTraces","tracingRoot","createTraceAssets","assets","span","readlink","stat","outputPath","outputOptions","path","traceChild","traceAsyncFn","entryFilesMap","isTraceable","some","suffix","endsWith","entrypoint","entrypoints","values","entryFiles","chunk","getEntrypointChunk","getAllReferencedChunks","files","filePath","join","auxiliaryFiles","binding","isWasm","turbo","startTrace","ignores","contains","dot","result","base","processCwd","readFile","source","relative","replace","Promise","resolve","reject","inputFileSystem","err","data","e","code","ignore","mixedModules","esmFileList","forEach","traceOutputName","name","traceOutputPath","dirname","allEntryFiles","child","delete","RawSource","JSON","stringify","version","map","tapfinishModules","traceEntrypointsPluginSpan","doResolve","hooks","finishModules","tapAsync","_stats","callback","finishModulesSpan","entryNameMap","entryModMap","additionalEntries","depModMap","traceFn","entries","entry","normalizedName","isPage","startsWith","isApp","dependencies","entryMod","request","loaderQuery","loaderQueryIdx","indexOf","URLSearchParams","substring","resource","normalizedResource","curMap","mod","originalSource","buffer","entryPaths","Array","from","keys","collectDependencies","depMod","entriesToTrace","entryName","curExtraEntries","push","contextDirectory","chunks","entriesTrace","action","input","logLevel","showAll","logAll","depModArray","traceEntryCount","id","job","isCjs","undefined","isAsset","isArray","loaders","normalizedEntry","finalDeps","extraEntry","normalizedExtraEntry","then","apply","compiler","tap","link","stats","compilationSpan","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_SUMMARIZE","catch","resolver","resolverFactory","getPkgName","segments","split","slice","getResolve","options","curResolver","withOptions","context","fileDependencies","missingDependencies","contextDependencies","resContext","Error","requestPath","isAbsolute","descriptionFileRoot","sep","rootSeparatorIndex","separatorIndex","lastIndexOf","curPackageJsonPath","isFile","emitFile","realpath","_err","dependencyType","CJS_RESOLVE_OPTIONS","fullySpecified","modules","extensions","BASE_CJS_RESOLVE_OPTIONS","alias","ESM_RESOLVE_OPTIONS","BASE_ESM_RESOLVE_OPTIONS","isEsmRequested","res","_","resRequest","afterEmit","tapPromise","filter","chunksTrace"],"mappings":"AAAA,OAAOA,cAAc,OAAM;AAE3B,SAASC,KAAK,QAAQ,qBAAoB;AAC1C,OAAOC,aAAa,wBAAuB;AAC3C,SACEC,aAAa,QAER,iCAAgC;AACvC,SAASC,oBAAoB,QAAQ,gCAA+B;AACpE,SAASC,OAAO,EAAEC,OAAO,QAAQ,qCAAoC;AACrE,SACEC,wBAAwB,EACxBC,oBAAoB,EACpBC,eAAe,QACV,uBAAsB;AAE7B,SAASC,YAAY,QAAQ,YAAW;AACxC,SAASC,OAAO,QAAQ,gCAA+B;AAEvD,MAAMC,cAAc;AACpB,MAAMC,gBAAgB;IACpB;IACA;CACD;AAED,MAAMC,gBAAgB;IACpB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,SAASC,wBACPC,WAAgB,EAChBC,GAAQ,EACkD;IAC1D,OAAOD,YAAYE,WAAW,CAACC,SAAS,CAACF;AAC3C;AAEA,SAASG,uBACPC,QAAqB,EACrBC,OAA6B,EAC7BC,QAAqD,EACrD;IACA,4DAA4D;IAC5D,8DAA8D;IAC9D,aAAa;IACb,MAAMC,iBAAiB,IAAIC;IAE3B,SAASC,mBACPC,OAAoB,EACpBC,IAAY,EACZC,OAAO,IAAIC,KAAa,EACxB;QACA,KAAK,MAAMC,UAAUJ,WAAW,EAAE,CAAE;YAClC,IAAI,CAACE,KAAKG,GAAG,CAACD,SAAS;gBACrBF,KAAKI,GAAG,CAACF;gBACT,IAAIG,cAAcV,eAAeW,GAAG,CAACJ;gBAErC,IAAI,CAACG,aAAa;oBAChBA,cAAc,IAAIJ;oBAClBN,eAAeY,GAAG,CAACL,QAAQG;gBAC7B,CAAC;gBAED,IAAI,EAACX,mBAAAA,KAAAA,IAAAA,SAAWK,MAAMG,UAAS;oBAC7BG,YAAYD,GAAG,CAACL;gBAClB,CAAC;gBACD,MAAMS,eAAef,QAAQa,GAAG,CAACJ;gBAEjC,IAAIM,uBAAAA,KAAAA,IAAAA,aAAcV,OAAO,EAAE;oBACzBD,mBAAmBW,aAAaV,OAAO,EAAEC,MAAMC;gBACjD,CAAC;YACH,CAAC;QACH;IACF;IAEA,KAAK,MAAMD,QAAQP,SAAW;QAC5B,MAAMiB,SAAShB,QAASa,GAAG,CAACP;QAC5B,MAAMW,YACJD,CAAAA,iBAAAA,KAAAA,IAAAA,OAAQE,IAAI,CAACC,MAAM,MAAK,KAAKH,OAAOE,IAAI,CAACE,QAAQ,CAAC;QAEpD,IACE,CAACJ,UACD,CAACA,OAAOX,OAAO,IACdY,aAAaD,OAAOX,OAAO,CAACgB,IAAI,KAAK,GACtC;YACA,QAAQ;QACV,CAAC;QACDjB,mBAAmBY,OAAOX,OAAO,EAAEC;IACrC;IACA,OAAOJ;AACT;AA4BA,OAAO,MAAMoB;IAYXC,YAAY,EACVC,OAAM,EACNC,cAAa,EACbC,aAAY,EACZC,aAAY,EACZC,sBAAqB,EACrBC,WAAU,EAQX,CAAE;aAzBIC,oBAAuC,CAAC;aASvCC,gBAA0B,EAAE;QAiBlC,IAAI,CAACP,MAAM,GAAGA;QACd,IAAI,CAACQ,WAAW,GAAG,IAAI7B;QACvB,IAAI,CAACwB,YAAY,GAAGA;QACpB,IAAI,CAACF,aAAa,GAAGA;QACrB,IAAI,CAACC,YAAY,GAAGA,gBAAgB,EAAE;QACtC,IAAI,CAACO,WAAW,GAAGL,yBAAyBJ;QAC5C,IAAI,CAACK,UAAU,GAAGA;IACpB;IAEA,2DAA2D;IAC3D,2BAA2B;IAC3B,MAAMK,kBACJxC,WAAgB,EAChByC,MAAW,EACXC,IAAU,EACVC,QAAa,EACbC,IAAS,EACT;QACA,MAAMC,aAAa7C,YAAY8C,aAAa,CAACC,IAAI;QAEjD,MAAML,KAAKM,UAAU,CAAC,uBAAuBC,YAAY,CAAC,UAAY;YACpE,MAAMC,gBAAgB,IAAIzC;YAC1B,MAAM4B,gBAAgB,IAAIvB;YAE1B,MAAMqC,cAAc,CAACvC,OACnB,CAACd,cAAcsD,IAAI,CAAC,CAACC,SAAW;oBAC9B,OAAOzC,KAAK0C,QAAQ,CAACD;gBACvB;YAEF,KAAK,MAAME,cAAcvD,YAAYwD,WAAW,CAACC,MAAM,GAAI;gBACzD,MAAMC,aAAa,IAAI5C;gBAEvB,KAAK,MAAM6C,SAASJ,WACjBK,kBAAkB,GAClBC,sBAAsB,GAAI;oBAC3B,KAAK,MAAMjD,QAAQ+C,MAAMG,KAAK,CAAE;wBAC9B,IAAIX,YAAYvC,OAAO;4BACrB,MAAMmD,WAAW/E,SAASgF,IAAI,CAACnB,YAAYjC;4BAC3CyB,cAAcpB,GAAG,CAAC8C;4BAClBL,WAAWzC,GAAG,CAAC8C;wBACjB,CAAC;oBACH;oBACA,KAAK,MAAMnD,QAAQ+C,MAAMM,cAAc,CAAE;wBACvC,IAAId,YAAYvC,OAAO;4BACrB,MAAMmD,WAAW/E,SAASgF,IAAI,CAACnB,YAAYjC;4BAC3CyB,cAAcpB,GAAG,CAAC8C;4BAClBL,WAAWzC,GAAG,CAAC8C;wBACjB,CAAC;oBACH;gBACF;gBACAb,cAAc9B,GAAG,CAACmC,YAAYG;YAChC;YAEA,kCAAkC;YAClC,IAAI,IAAI,CAACvB,UAAU,EAAE;gBACnB,IAAI+B,UAAW,MAAMxE;gBACrB,IACE,CAACwE,CAAAA,kBAAAA,KAAAA,IAAAA,QAASC,MAAM,AAAD,KACf,OAAOD,QAAQE,KAAK,CAACC,UAAU,KAAK,YACpC;oBACA,IAAI,CAAChC,aAAa,GAAG;2BAAIA;qBAAc;oBACvC;gBACF,CAAC;YACH,CAAC;YACD,MAAMiC,UAAU;mBAAIzE;mBAAkB,IAAI,CAACmC,YAAY;aAAC;YAExD,MAAMzB,WAAW,CAACwC,OAAiB;gBACjC,OAAOpD,QAAQoD,MAAMuB,SAAS;oBAAEC,UAAU,IAAI;oBAAEC,KAAK,IAAI;gBAAC;YAC5D;YACA,MAAMC,SAAS,MAAMtF,cAAc;mBAAIkD;aAAc,EAAE;gBACrDqC,MAAM,IAAI,CAACnC,WAAW;gBACtBoC,YAAY,IAAI,CAAC7C,MAAM;gBACvB8C,UAAU,OAAO7B,OAAS;oBACxB,IAAIV,cAAcrB,GAAG,CAAC+B,OAAO;4BAEzBN;wBADF,MAAMoC,SACJpC,CAAAA,oCAAAA,MAAM,CACJzD,SAAS8F,QAAQ,CAACjC,YAAYE,MAAMgC,OAAO,CAAC,OAAO,KACpD,YAFDtC,KAAAA,IAAAA,kCAEGoC,iBAFHpC,KAAAA,IAAAA,kCAEGoC;wBACL,IAAIA,QAAQ,OAAOA;oBACrB,CAAC;oBACD,IAAI;wBACF,OAAO,MAAM,IAAIG,QAAQ,CAACC,SAASC,SAAW;4BAE1ClF,YAAYmF,eAAe,CACxBP,QAAQ,CACX7B,MAAM,CAACqC,KAAKC,OAAS;gCACrB,IAAID,KAAK,OAAOF,OAAOE;gCACvBH,QAAQI;4BACV;wBACF;oBACF,EAAE,OAAOC,GAAG;wBACV,IAAIpG,QAAQoG,MAAOA,CAAAA,EAAEC,IAAI,KAAK,YAAYD,EAAEC,IAAI,KAAK,QAAO,GAAI;4BAC9D,OAAO,IAAI;wBACb,CAAC;wBACD,MAAMD,EAAC;oBACT;gBACF;gBACA3C;gBACAC;gBACA4C,QAAQjF;gBACRkF,cAAc,IAAI;YACpB;YACA,MAAMnF,UAAUmE,OAAOnE,OAAO;YAC9B,MAAMD,WAAWoE,OAAOpE,QAAQ;YAChCoE,OAAOiB,WAAW,CAACC,OAAO,CAAC,CAAC/E,OAASP,SAASY,GAAG,CAACL;YAElD,MAAMJ,iBAAiBJ,uBAAuBC,UAAUC;YAExD,KAAK,MAAM,CAACiD,YAAYG,WAAW,IAAIR,cAAe;gBACpD,MAAM0C,kBAAkB,CAAC,GAAG,EAAErC,WAAWsC,IAAI,CAAC,YAAY,CAAC;gBAC3D,MAAMC,kBAAkB9G,SAAS+G,OAAO,CACtC/G,SAASgF,IAAI,CAACnB,YAAY+C;gBAE5B,MAAMI,gBAAgB,IAAIlF;gBAE1B4C,WAAWiC,OAAO,CAAC,CAAC/E,OAAS;wBAC3BJ;oBAAAA,CAAAA,sBAAAA,eACGW,GAAG,CAACnC,SAAS8F,QAAQ,CAAC,IAAI,CAACvC,WAAW,EAAE3B,kBAD3CJ,KAAAA,IAAAA,oBAEImF,QAAQ,CAACM,QAAU;wBACnBD,cAAc/E,GAAG,CAACjC,SAASgF,IAAI,CAAC,IAAI,CAACzB,WAAW,EAAE0D;oBACpD;gBACJ;gBACA,8CAA8C;gBAC9CvC,WAAWwC,MAAM,CAAClH,SAASgF,IAAI,CAACnB,YAAY,CAAC,GAAG,EAAEU,WAAWsC,IAAI,CAAC,GAAG,CAAC;gBAEtEpD,MAAM,CAACmD,gBAAgB,GAAG,IAAItG,QAAQ6G,SAAS,CAC7CC,KAAKC,SAAS,CAAC;oBACbC,SAASlH;oBACT0E,OAAO;2BACF,IAAIhD,IAAI;+BACN4C;+BACAsC;+BACC,IAAI,CAAC1D,WAAW,CAACnB,GAAG,CAACoC,WAAWsC,IAAI,KAAK,EAAE;yBAChD;qBACF,CAACU,GAAG,CAAC,CAAC3F,OAAS;wBACd,OAAO5B,SACJ8F,QAAQ,CAACgB,iBAAiBlF,MAC1BmE,OAAO,CAAC,OAAO;oBACpB;gBACF;YAEJ;QACF;IACF;IAEAyB,iBACExG,WAAgC,EAChCyG,0BAAgC,EAChCC,SAKoB,EACpB/D,QAAa,EACbC,IAAS,EACT;QACA5C,YAAY2G,KAAK,CAACC,aAAa,CAACC,QAAQ,CACtCjH,aACA,OAAOkH,QAAaC,WAAkB;YACpC,MAAMC,oBACJP,2BAA2BzD,UAAU,CAAC;YACxC,MAAMgE,kBACH/D,YAAY,CAAC,UAAY;gBACxB,gDAAgD;gBAChD,mDAAmD;gBACnD,oCAAoC;gBACpC,MAAMgE,eAAe,IAAIxG;gBACzB,MAAMyG,cAAc,IAAIzG;gBACxB,MAAM0G,oBAAoB,IAAI1G;gBAE9B,MAAM2G,YAAY,IAAI3G;gBAEtBuG,kBAAkBhE,UAAU,CAAC,eAAeqE,OAAO,CAAC,IAAM;oBACxDrH,YAAYsH,OAAO,CAAC3B,OAAO,CAAC,CAAC4B,OAAO1B,OAAS;wBAC3C,MAAM2B,iBAAiB3B,eAAAA,KAAAA,IAAAA,KAAMd,OAAO,CAAC,OAAO;wBAE5C,MAAM0C,SAASD,eAAeE,UAAU,CAAC;wBACzC,MAAMC,QACJ,IAAI,CAAC5F,aAAa,IAAIyF,eAAeE,UAAU,CAAC;wBAElD,IAAIC,SAASF,QAAQ;4BACnB,KAAK,MAAMxH,OAAOsH,MAAMK,YAAY,CAAE;gCACpC,IAAI,CAAC3H,KAAK,QAAQ;gCAClB,MAAM4H,WAAW9H,wBAAwBC,aAAaC;gCAEtD,mDAAmD;gCACnD,4CAA4C;gCAC5C,6BAA6B;gCAC7B,IAAI0H,SAASE,SAASC,OAAO,EAAE;wCAO3BC;oCANF,MAAMC,iBAAiBH,SAASC,OAAO,CAACG,OAAO,CAAC;oCAEhD,MAAMF,cAAc,IAAIG,gBACtBL,SAASC,OAAO,CAACK,SAAS,CAACH;oCAE7B,MAAMI,WACJL,CAAAA,CAAAA,mBAAAA,YACG5G,GAAG,CAAC,uBADP4G,KAAAA,IAAAA,iBAEIhD,QACA,wBACA/F,SAASgF,IAAI,CAAC,IAAI,CAAClC,MAAM,EAAE,YACxB;oCAEToF,YAAY9F,GAAG,CAACgH,UAAUP;oCAC1BZ,aAAa7F,GAAG,CAACgH,UAAUvC;gCAC7B,CAAC;gCAED,IAAIgC,YAAYA,SAASO,QAAQ,EAAE;oCACjC,MAAMC,qBAAqBR,SAASO,QAAQ,CAACrD,OAAO,CAClD,OACA;oCAEF,IAAIsD,mBAAmB3G,QAAQ,CAAC,WAAW;wCACzCuF,aAAa7F,GAAG,CAACyG,SAASO,QAAQ,EAAEvC;wCACpCqB,YAAY9F,GAAG,CAACyG,SAASO,QAAQ,EAAEP;oCACrC,OAAO;wCACL,IAAIS,SAASnB,kBAAkBhG,GAAG,CAAC0E;wCAEnC,IAAI,CAACyC,QAAQ;4CACXA,SAAS,IAAI7H;4CACb0G,kBAAkB/F,GAAG,CAACyE,MAAMyC;wCAC9B,CAAC;wCACDlB,UAAUhG,GAAG,CAACyG,SAASO,QAAQ,EAAEP;wCACjCS,OAAOlH,GAAG,CAACyG,SAASO,QAAQ,EAAEP;oCAChC,CAAC;gCACH,CAAC;4BACH;wBACF,CAAC;oBACH;gBACF;gBAEA,MAAMjD,WAAW,OACf7B,OACoC;oBACpC,MAAMwF,MAAMnB,UAAUjG,GAAG,CAAC4B,SAASmE,YAAY/F,GAAG,CAAC4B;oBAEnD,oDAAoD;oBACpD,kCAAkC;oBAClC,MAAM8B,SAAS0D,cAAAA,KAAAA,IAAAA,IAAKC,cAAc,WAAnBD,KAAAA,IAAAA,IAAKC,cAAc;oBAElC,IAAI3D,QAAQ;wBACV,OAAOA,OAAO4D,MAAM;oBACtB,CAAC;oBACD,0CAA0C;oBAC1C,kDAAkD;oBAClD,OAAO;gBACT;gBAEA,MAAMC,aAAaC,MAAMC,IAAI,CAAC1B,YAAY2B,IAAI;gBAE9C,MAAMC,sBAAsB,CAACP,MAAa;oBACxC,IAAI,CAACA,OAAO,CAACA,IAAIX,YAAY,EAAE;oBAE/B,KAAK,MAAM3H,OAAOsI,IAAIX,YAAY,CAAE;wBAClC,MAAMmB,SAAShJ,wBAAwBC,aAAaC;wBAEpD,IAAI8I,CAAAA,iBAAAA,KAAAA,IAAAA,OAAQX,QAAQ,AAAD,KAAK,CAAChB,UAAUjG,GAAG,CAAC4H,OAAOX,QAAQ,GAAG;4BACvDhB,UAAUhG,GAAG,CAAC2H,OAAOX,QAAQ,EAAEW;4BAC/BD,oBAAoBC;wBACtB,CAAC;oBACH;gBACF;gBACA,MAAMC,iBAAiB;uBAAIN;iBAAW;gBAEtCA,WAAW/C,OAAO,CAAC,CAAC4B,QAAU;oBAC5BuB,oBAAoB5B,YAAY/F,GAAG,CAACoG;oBACpC,MAAM0B,YAAYhC,aAAa9F,GAAG,CAACoG;oBACnC,MAAM2B,kBAAkB/B,kBAAkBhG,GAAG,CAAC8H;oBAE9C,IAAIC,iBAAiB;wBACnBF,eAAeG,IAAI,IAAID,gBAAgBL,IAAI;oBAC7C,CAAC;gBACH;gBACA,kCAAkC;gBAClC,IAAI,IAAI,CAAC1G,UAAU,EAAE;oBACnB,IAAI+B,UAAW,MAAMxE;oBACrB,IACE,CAACwE,CAAAA,kBAAAA,KAAAA,IAAAA,QAASC,MAAM,AAAD,KACf,OAAOD,QAAQE,KAAK,CAACC,UAAU,KAAK,YACpC;4BAEE,kBAQc,mBACF,mBACD;wBAXb,MAAM+E,mBACJ,CAAA,CAAA,mBAAA,IAAI,CAACjH,UAAU,YAAf,KAAA,IAAA,iBAAiBiH,gBAAgB,AAAD,KAAK,IAAI,CAAC7G,WAAW;wBACvD,MAAM8G,SAAS;+BAAIL;yBAAe;wBAElC,IAAI,CAAC5G,iBAAiB,CAACkH,YAAY,GAAG;4BACpCC,QAAQ;gCACNA,QAAQ;gCACRC,OAAOH;gCACPD;gCACAzE,YAAY,CAAA,CAAA,oBAAA,IAAI,CAACxC,UAAU,YAAf,KAAA,IAAA,kBAAiBwC,UAAU,AAAD,KAAK,IAAI,CAAC7C,MAAM;gCACtD2H,UAAU,CAAA,oBAAA,IAAI,CAACtH,UAAU,YAAf,KAAA,IAAA,kBAAiBsH,QAAQ;gCACnCC,SAAS,CAAA,oBAAA,IAAI,CAACvH,UAAU,YAAf,KAAA,IAAA,kBAAiBwH,MAAM;4BAClC;4BACA7H,QAAQ,IAAI,CAACA,MAAM;4BACnB8H,aAAajB,MAAMC,IAAI,CAACxB,UAAUyB,IAAI;4BACtC5B;4BACApE,YAAY7C,YAAY8C,aAAa,CAACC,IAAI;wBAC5C;wBACA;oBACF,CAAC;gBACH,CAAC;gBACD,IAAI1C;gBACJ,IAAIC;gBACJ,MAAMgE,UAAU;uBACXzE;uBACA,IAAI,CAACmC,YAAY;oBACpB;iBACD;gBACD,MAAMzB,WAAW,CAACwC,OAAiB;oBACjC,OAAOpD,QAAQoD,MAAMuB,SAAS;wBAAEC,UAAU,IAAI;wBAAEC,KAAK,IAAI;oBAAC;gBAC5D;gBAEA,MAAMwC,kBACHhE,UAAU,CAAC,mBAAmB;oBAC7B6G,iBAAiBb,eAAevH,MAAM,GAAG;gBAC3C,GACCwB,YAAY,CAAC,UAAY;oBACxB,MAAMwB,SAAS,MAAMtF,cAAc6J,gBAAgB;wBACjDtE,MAAM,IAAI,CAACnC,WAAW;wBACtBoC,YAAY,IAAI,CAAC7C,MAAM;wBACvB8C;wBACAjC;wBACAC;wBACAqC,SAASyB,YACL,OAAOoD,IAAI/I,QAAQgJ,KAAKC,QAAU;4BAChC,OAAOtD,UAAUoD,IAAI/I,QAAQgJ,KAAK,CAACC;wBACrC,IACAC,SAAS;wBACbzE,QAAQjF;wBACRkF,cAAc,IAAI;oBACpB;oBACA,aAAa;oBACbpF,WAAWoE,OAAOpE,QAAQ;oBAC1BoE,OAAOiB,WAAW,CAACC,OAAO,CAAC,CAAC/E,OAASP,SAASY,GAAG,CAACL;oBAClDN,UAAUmE,OAAOnE,OAAO;gBAC1B;gBAEF,MAAM0G,kBACHhE,UAAU,CAAC,wBACXC,YAAY,CAAC,IAAM;oBAClB,MAAMzC,iBAAiBJ,uBACrBC,UACAC,SACA,CAACM,OAAS;4BAMQN;wBALhB,iDAAiD;wBACjD,wCAAwC;wBACxC,oCAAoC;wBACpCM,OAAO5B,SAASgF,IAAI,CAAC,IAAI,CAACzB,WAAW,EAAE3B;wBACvC,MAAMmI,SAAS3B,UAAUjG,GAAG,CAACP;wBAC7B,MAAMsJ,UAAU5J,CAAAA,eAAAA,QACba,GAAG,CAACnC,SAAS8F,QAAQ,CAAC,IAAI,CAACvC,WAAW,EAAE3B,kBAD3BN,KAAAA,IAAAA,aAEZkB,KAAKE,QAAQ,CAAC,QAAQ;wBAE1B,OACE,CAACwI,WACDvB,MAAMwB,OAAO,CAACpB,iBAAAA,KAAAA,IAAAA,OAAQqB,OAAO,KAC7BrB,OAAOqB,OAAO,CAAC3I,MAAM,GAAG;oBAE5B;oBAEFiH,WAAW/C,OAAO,CAAC,CAAC4B,QAAU;4BAS5B/G;wBARA,MAAMyI,YAAYhC,aAAa9F,GAAG,CAACoG;wBACnC,MAAM8C,kBAAkBrL,SAAS8F,QAAQ,CACvC,IAAI,CAACvC,WAAW,EAChBgF;wBAEF,MAAM2B,kBAAkB/B,kBAAkBhG,GAAG,CAAC8H;wBAC9C,MAAMqB,YAAY,IAAIxJ;wBAEtBN,CAAAA,sBAAAA,eAAeW,GAAG,CAACkJ,4BAAnB7J,KAAAA,IAAAA,oBAAqCmF,QAAQ,CAAC1F,MAAQ;4BACpDqK,UAAUrJ,GAAG,CAACjC,SAASgF,IAAI,CAAC,IAAI,CAACzB,WAAW,EAAEtC;wBAChD;wBAEA,IAAIiJ,iBAAiB;4BACnB,KAAK,MAAMqB,cAAcrB,gBAAgBL,IAAI,GAAI;oCAM/CrI;gCALA,MAAMgK,uBAAuBxL,SAAS8F,QAAQ,CAC5C,IAAI,CAACvC,WAAW,EAChBgI;gCAEFD,UAAUrJ,GAAG,CAACsJ;gCACd/J,CAAAA,uBAAAA,eACGW,GAAG,CAACqJ,iCADPhK,KAAAA,IAAAA,qBAEImF,QAAQ,CAAC1F,MAAQ;oCACjBqK,UAAUrJ,GAAG,CAACjC,SAASgF,IAAI,CAAC,IAAI,CAACzB,WAAW,EAAEtC;gCAChD;4BACJ;wBACF,CAAC;wBACD,IAAI,CAACqC,WAAW,CAAClB,GAAG,CAAC6H,WAAWqB;oBAClC;gBACF;YACJ,GACCG,IAAI,CACH,IAAM1D,YACN,CAAC3B,MAAQ2B,SAAS3B;QAExB;IAEJ;IAEAsF,MAAMC,QAA0B,EAAE;QAChCA,SAAShE,KAAK,CAAC3G,WAAW,CAAC4K,GAAG,CAAChL,aAAa,CAACI,cAAgB;YAC3D,MAAM2C,WAAW,OAAOI,OAAyC;gBAC/D,IAAI;oBACF,OAAO,MAAM,IAAIiC,QAAQ,CAACC,SAASC,SAAW;wBAE1ClF,YAAYmF,eAAe,CACxBxC,QAAQ,CACXI,MAAM,CAACqC,KAAKyF,OAAS;4BACrB,IAAIzF,KAAK,OAAOF,OAAOE;4BACvBH,QAAQ4F;wBACV;oBACF;gBACF,EAAE,OAAOvF,GAAG;oBACV,IACEpG,QAAQoG,MACPA,CAAAA,EAAEC,IAAI,KAAK,YAAYD,EAAEC,IAAI,KAAK,YAAYD,EAAEC,IAAI,KAAK,SAAQ,GAClE;wBACA,OAAO,IAAI;oBACb,CAAC;oBACD,MAAMD,EAAC;gBACT;YACF;YACA,MAAM1C,OAAO,OAAOG,OAAqD;gBACvE,IAAI;oBACF,OAAO,MAAM,IAAIiC,QAAQ,CAACC,SAASC,SAAW;wBAC1ClF,YAAYmF,eAAe,CAACvC,IAAI,CAChCG,MACA,CAACqC,KAAK0F,QAAU;4BACd,IAAI1F,KAAK,OAAOF,OAAOE;4BACvBH,QAAQ6F;wBACV;oBAEJ;gBACF,EAAE,OAAOxF,GAAG;oBACV,IAAIpG,QAAQoG,MAAOA,CAAAA,EAAEC,IAAI,KAAK,YAAYD,EAAEC,IAAI,KAAK,SAAQ,GAAI;wBAC/D,OAAO,IAAI;oBACb,CAAC;oBACD,MAAMD,EAAC;gBACT;YACF;YAEA,MAAMyF,kBAAkB9L,MAAMkC,GAAG,CAACnB,gBAAgBf,MAAMkC,GAAG,CAACwJ;YAC5D,MAAMlE,6BAA6BsE,gBAAgB/H,UAAU,CAC3D;YAEFyD,2BAA2BY,OAAO,CAAC,IAAM;gBACvCrH,YAAY2G,KAAK,CAACqE,aAAa,CAACnE,QAAQ,CACtC;oBACEhB,MAAMjG;oBACNqL,OAAO5L,QAAQ6L,WAAW,CAACC,8BAA8B;gBAC3D,GACA,CAAC1I,QAAasE,WAAkB;oBAC9B,IAAI,CAACvE,iBAAiB,CACpBxC,aACAyC,QACAgE,4BACA9D,UACAC,MAEC6H,IAAI,CAAC,IAAM1D,YACXqE,KAAK,CAAC,CAAChG,MAAQ2B,SAAS3B;gBAC7B;gBAGF,IAAIiG,WAAWrL,YAAYsL,eAAe,CAACnK,GAAG,CAAC;gBAE/C,SAASoK,WAAW1F,IAAY,EAAE;oBAChC,MAAM2F,WAAW3F,KAAK4F,KAAK,CAAC;oBAC5B,IAAI5F,IAAI,CAAC,EAAE,KAAK,OAAO2F,SAAS/J,MAAM,GAAG,GACvC,OAAO+J,SAAS/J,MAAM,GAAG,IAAI+J,SAASE,KAAK,CAAC,GAAG,GAAG1H,IAAI,CAAC,OAAO,IAAI;oBACpE,OAAOwH,SAAS/J,MAAM,GAAG+J,QAAQ,CAAC,EAAE,GAAG,IAAI;gBAC7C;gBAEA,MAAMG,aAAa,CAACC,UAAiB;oBACnC,MAAMC,cAAcR,SAASS,WAAW,CAACF;oBAEzC,OAAO,CACL7K,QACA+G,SACAiC;wBAEA,OAAA,IAAI/E,QAA2B,CAACC,SAASC,SAAW;4BAClD,MAAM6G,UAAU/M,SAAS+G,OAAO,CAAChF;4BAEjC8K,YAAY5G,OAAO,CACjB,CAAC,GACD8G,SACAjE,SACA;gCACEkE,kBAAkBhM,YAAYgM,gBAAgB;gCAC9CC,qBAAqBjM,YAAYiM,mBAAmB;gCACpDC,qBAAqBlM,YAAYkM,mBAAmB;4BACtD,GACA,OAAO9G,KAAUX,QAAS0H,aAAgB;gCACxC,IAAI/G,KAAK,OAAOF,OAAOE;gCAEvB,IAAI,CAACX,QAAQ;oCACX,OAAOS,OAAO,IAAIkH,MAAM;gCAC1B,CAAC;gCAED,mDAAmD;gCACnD,sCAAsC;gCACtC,IAAI3H,OAAO/C,QAAQ,CAAC,QAAQ+C,OAAO/C,QAAQ,CAAC,MAAM;oCAChD+C,SAAS0H,CAAAA,qBAAAA,KAAAA,IAAAA,WAAYpJ,IAAI,AAAD,KAAK0B;gCAC/B,CAAC;gCAED,IAAI;oCACF,oDAAoD;oCACpD,sDAAsD;oCACtD,yDAAyD;oCACzD,sDAAsD;oCACtD,IAAIA,OAAO/C,QAAQ,CAAC,iBAAiB;wCACnC,IAAI2K,cAAc5H,OACfM,OAAO,CAAC,OAAO,KACfA,OAAO,CAAC,OAAO;wCAElB,IACE,CAAC/F,SAASsN,UAAU,CAACxE,YACrBA,QAAQpG,QAAQ,CAAC,QACjByK,CAAAA,qBAAAA,KAAAA,IAAAA,WAAYI,mBAAmB,AAAD,GAC9B;gDAGgBhB;4CAFhBc,cAAc,AACZF,CAAAA,WAAWI,mBAAmB,GAC9BzE,QAAQ4D,KAAK,CAACH,CAAAA,CAAAA,cAAAA,WAAWzD,oBAAXyD,KAAAA,IAAAA,YAAqB9J,MAAM,AAAD,KAAK,KAC7CzC,SAASwN,GAAG,GACZ,cAAa,EAEZzH,OAAO,CAAC,OAAO,KACfA,OAAO,CAAC,OAAO;wCACpB,CAAC;wCAED,MAAM0H,qBAAqBJ,YAAYpE,OAAO,CAAC;wCAC/C,IAAIyE;wCACJ,MACE,AAACA,CAAAA,iBAAiBL,YAAYM,WAAW,CAAC,IAAG,IAC7CF,mBACA;4CACAJ,cAAcA,YAAYX,KAAK,CAAC,GAAGgB;4CACnC,MAAME,qBAAqB,CAAC,EAAEP,YAAY,aAAa,CAAC;4CACxD,IAAI,MAAMtC,IAAI8C,MAAM,CAACD,qBAAqB;gDACxC,MAAM7C,IAAI+C,QAAQ,CAChB,MAAM/C,IAAIgD,QAAQ,CAACH,qBACnB,WACA7L;4CAEJ,CAAC;wCACH;oCACF,CAAC;gCACH,EAAE,OAAOiM,MAAM;gCACb,kDAAkD;gCAClD,sDAAsD;gCACxD;gCACA/H,QAAQ;oCAACR;oCAAQmH,QAAQqB,cAAc,KAAK;iCAAM;4BACpD;wBAEJ;;gBACJ;gBAEA,MAAMC,sBAAsB;oBAC1B,GAAG1N,oBAAoB;oBACvB2N,gBAAgBlD;oBAChBmD,SAASnD;oBACToD,YAAYpD;gBACd;gBACA,MAAMqD,2BAA2B;oBAC/B,GAAGJ,mBAAmB;oBACtBK,OAAO,KAAK;gBACd;gBACA,MAAMC,sBAAsB;oBAC1B,GAAGjO,wBAAwB;oBAC3B4N,gBAAgBlD;oBAChBmD,SAASnD;oBACToD,YAAYpD;gBACd;gBACA,MAAMwD,2BAA2B;oBAC/B,GAAGD,mBAAmB;oBACtBD,OAAO,KAAK;gBACd;gBAEA,MAAM7G,YAAY,OAChBoB,SACA/G,QACAgJ,KACA2D,iBACoB;oBACpB,MAAM3B,UAAU/M,SAAS+G,OAAO,CAAChF;oBACjC,gEAAgE;oBAChE,yBAAyB;oBACzB,MAAM,EAAE4M,IAAG,EAAE,GAAG,MAAMlO,gBACpB,IAAI,CAACqC,MAAM,EACX,IAAI,CAACG,YAAY,EACjB8J,SACAjE,SACA4F,gBACA,CAAC,CAAC,IAAI,CAAC3L,aAAa,EACpB,CAAC6J,UAAY,CAACgC,GAAWC,aAAuB;4BAC9C,OAAOlC,WAAWC,SAAS7K,QAAQ8M,YAAY9D;wBACjD,GACAE,WACAA,WACAuD,qBACAN,qBACAO,0BACAH;oBAGF,IAAI,CAACK,KAAK;wBACR,MAAM,IAAIvB,MAAM,CAAC,kBAAkB,EAAEtE,QAAQ,MAAM,EAAE/G,OAAO,CAAC,EAAC;oBAChE,CAAC;oBACD,OAAO4M,IAAI5I,OAAO,CAAC,OAAO;gBAC5B;gBAEA,IAAI,CAACyB,gBAAgB,CACnBxG,aACAyG,4BACAC,WACA/D,UACAC;YAEJ;QACF;QAEA,IAAI,IAAI,CAACT,UAAU,EAAE;YACnBwI,SAAShE,KAAK,CAACmH,SAAS,CAACC,UAAU,CAACnO,aAAa,UAAY;gBAC3D,IAAIsE,UAAW,MAAMxE;gBACrB,IACE,CAACwE,CAAAA,kBAAAA,KAAAA,IAAAA,QAASC,MAAM,AAAD,KACf,OAAOD,QAAQE,KAAK,CAACC,UAAU,KAAK,YACpC;wBAaM,kBACU,mBACH,mBACC;oBAfd,MAAMC,UAAU;2BAAIzE;2BAAkB,IAAI,CAACmC,YAAY;qBAAC;oBAExD,MAAMzB,WAAW,CAACwC,OAAiB;wBACjC,OAAOpD,QAAQoD,MAAMuB,SAAS;4BAAEC,UAAU,IAAI;4BAAEC,KAAK,IAAI;wBAAC;oBAC5D;oBACA,MAAM6E,SAAS,IAAI,CAAChH,aAAa,CAAC2L,MAAM,CAAC,CAACrK,QAAU,CAACpD,SAASoD;oBAE9D,IAAI,CAACvB,iBAAiB,CAAC6L,WAAW,GAAG;wBACnC1E,QAAQ;4BACNA,QAAQ;4BACRC,OAAOH;4BACPD,kBACE,CAAA,CAAA,mBAAA,IAAI,CAACjH,UAAU,YAAf,KAAA,IAAA,iBAAiBiH,gBAAgB,AAAD,KAAK,IAAI,CAAC7G,WAAW;4BACvDoC,YAAY,CAAA,CAAA,oBAAA,IAAI,CAACxC,UAAU,YAAf,KAAA,IAAA,kBAAiBwC,UAAU,AAAD,KAAK,IAAI,CAAC7C,MAAM;4BACtD4H,SAAS,CAAA,oBAAA,IAAI,CAACvH,UAAU,YAAf,KAAA,IAAA,kBAAiBwH,MAAM;4BAChCF,UAAU,CAAA,oBAAA,IAAI,CAACtH,UAAU,YAAf,KAAA,IAAA,kBAAiBsH,QAAQ;wBACrC;wBACA5G,YAAY8H,SAAS9H,UAAU;oBACjC;gBACF,CAAC;YACH;QACF,CAAC;IACH;AACF,CAAC"}