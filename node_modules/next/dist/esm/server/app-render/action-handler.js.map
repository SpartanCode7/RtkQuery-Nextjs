{"version":3,"sources":["../../../src/server/app-render/action-handler.ts"],"names":["ACTION","isNotFoundError","getURLFromRedirectError","isRedirectError","RenderResult","ActionRenderResult","formDataFromSearchQueryString","query","searchParams","URLSearchParams","formData","FormData","key","value","append","handleAction","req","res","ComponentMod","pathname","serverActionsManifest","actionId","headers","toLowerCase","contentType","isFormAction","method","isMultipartAction","startsWith","isFetchAction","undefined","bound","workerName","serverModuleMap","Proxy","get","_","id","node","workers","name","chunks","actionAsyncStorage","actionResult","run","isAction","process","env","NEXT_RUNTIME","decodeReply","webRequest","body","Error","actionData","reader","getReader","done","read","TextDecoder","decode","delete","decodeReplyFromBusboy","require","busboy","bb","pipe","parseBody","$$id","actionModId","actionHandler","__next_app_webpack_require__","returnVal","apply","result","JSON","stringify","err","redirectUrl","statusCode","setHeader","message"],"mappings":"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"}