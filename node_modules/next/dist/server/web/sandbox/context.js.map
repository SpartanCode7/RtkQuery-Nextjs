{"version":3,"sources":["../../../../src/server/web/sandbox/context.ts"],"names":["clearModuleContext","getModuleContext","WEBPACK_HASH_REGEX","moduleContexts","Map","pendingModuleCaches","path","content","handleContext","key","cache","context","prev","paths","get","replace","toString","delete","loadWasm","wasm","modules","Promise","all","map","binding","module","WebAssembly","compile","fs","readFile","filePath","name","buildEnvironmentVariablesFrom","keys","pairs","process","env","Object","fromEntries","NEXT_RUNTIME","throwUnsupportedAPIError","error","Error","decorateServerError","COMPILER_NAMES","edgeServer","createProcessPolyfill","options","processPolyfill","overridenValue","defineProperty","undefined","set","value","enumerable","addStub","getDecorateUnhandledError","runtime","EdgeRuntimeError","evaluate","getDecorateUnhandledRejection","rejected","reason","NativeModuleMap","mods","pick","BufferImplementation","EventsImplementation","AsyncHooksImplementation","AssertImplementation","UtilImplementation","entries","createModuleContext","warnedEvals","Set","warnedWasmCodegens","edgeFunctionEntry","EdgeRuntime","codeGeneration","NODE_ENV","strings","extend","WebSocket","Number","version","split","substring","require","id","TypeError","__next_eval__","fn","has","warning","getServerError","captureStackTrace","add","onWarning","__next_webassembly_compile__","__next_webassembly_instantiate__","result","instantiatedFromBuffer","hasOwnProperty","__fetch","fetch","input","init","callingError","assetResponse","fetchInlineAsset","assets","distDir","headers","Headers","prevs","concat","moduleName","join","response","url","String","catch","err","message","stack","__Request","Request","constructor","validateURL","next","__redirect","Response","redirect","bind","args","EDGE_UNSUPPORTED_NODE_APIS","assign","AsyncLocalStorage","decorateUnhandledError","addEventListener","decorateUnhandledRejection","getModuleContextShared","deferredModuleContext","lazyModuleContext","useCache","moduleContext","evaluateInContext","filepath","readFileSync","runInContext","filename"],"mappings":"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"}