{"version":3,"sources":["../../../../../src/server/future/route-modules/app-route/module.ts"],"names":["AppRouteRouteModule","RouteModule","constructor","userland","pathname","resolvedPagePath","nextConfigOutput","hasSetup","definition","kind","RouteKind","APP_ROUTE","page","bundlePath","filename","methods","autoImplementMethods","nonStaticMethods","getNonStaticMethods","dynamic","Error","setup","process","env","NODE_ENV","lowercased","HTTP_METHODS","map","method","toLowerCase","Log","error","toUpperCase","some","resolve","isHTTPMethod","handleBadRequestResponse","execute","request","context","handler","requestContext","req","staticGenerationContext","renderOpts","supportsDynamicHTML","fetchCache","response","actionAsyncStorage","run","isAppRoute","RequestAsyncStorageWrapper","wrap","requestAsyncStorage","StaticGenerationAsyncStorageWrapper","staticGenerationAsyncStorage","staticGenerationStore","getTracer","staticGenerationBailout","join","forceDynamic","forceStatic","dynamicShouldError","revalidate","wrappedRequest","proxyRequest","headerHooks","serverHooks","route","getPathnameFromAbsolutePath","getRootSpanAttributes","set","trace","AppRouteRouteHandlersSpan","runHandler","spanName","attributes","patchFetch","res","params","Promise","all","pendingRevalidates","requestStore","getStore","mutableCookies","modifiedCookieValues","SYMBOL_MODIFY_COOKIE_VALUES","length","resCookies","ResponseCookies","HeadersAdapter","from","headers","returnedCookies","getAll","cookie","responseHeaders","Headers","forEach","value","key","append","tempCookies","toString","Response","body","status","statusText","handleInternalServerErrorResponse","has","get","handle","err","resolveHandlerError"],"mappings":"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"}