"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "callServer", {
    enumerable: true,
    get: function() {
        return callServer;
    }
});
const _client = require("next/dist/compiled/react-server-dom-webpack/client");
async function callServer(id, args) {
    const actionId = id;
    // Fetching the current url with the action header.
    // TODO: Refactor this to look up from a manifest.
    const res = await fetch("", {
        method: "POST",
        headers: {
            Accept: "text/x-component",
            "Next-Action": actionId
        },
        body: await (0, _client.encodeReply)(args)
    });
    if (!res.ok) {
        throw new Error(await res.text());
    }
    return (await res.json())[0];
}

if ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {
  Object.defineProperty(exports.default, '__esModule', { value: true });
  Object.assign(exports.default, exports);
  module.exports = exports.default;
}

//# sourceMappingURL=app-call-server.js.map